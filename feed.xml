<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.2">Jekyll</generator><link href="https://drivel.karuken.quest/feed.xml" rel="self" type="application/atom+xml"/><link href="https://drivel.karuken.quest/" rel="alternate" type="text/html" hreflang="en"/><updated>2023-12-02T16:47:55+00:00</updated><id>https://drivel.karuken.quest/feed.xml</id><title type="html">karuken</title><subtitle>Just another blog - more of a gist collection really, might be useful though. </subtitle><entry><title type="html">Code highlighting in jekyll</title><link href="https://drivel.karuken.quest/blog/2023/jekyll-code-highlight/" rel="alternate" type="text/html" title="Code highlighting in jekyll"/><published>2023-12-01T00:00:00+00:00</published><updated>2023-12-01T00:00:00+00:00</updated><id>https://drivel.karuken.quest/blog/2023/jekyll-code-highlight</id><content type="html" xml:base="https://drivel.karuken.quest/blog/2023/jekyll-code-highlight/"><![CDATA[<p>Code highlighting is a standard feature in jekyll. There are plenty of examples and explanations out there, for example from the <a href="https://jun711.github.io/web/how-to-highlight-code-on-a-Jekyll-site-syntax-highlighting/">Jun711 blog</a> and many other sources. I wont repeat the basic functionality here. This is how this looks for python:</p> <figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="c1">#!/usr/bin/env python
# syntax highlighting
</span>
<span class="k">class</span> <span class="nc">Bar</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>  <span class="c1"># Class definition
</span>    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>  <span class="c1"># function definition
</span>        <span class="k">if</span> <span class="sh">'</span><span class="s">string</span><span class="sh">'</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>I do want to talk about highlighting <em>individual lines</em> within code blocks: Jekyll uses the <a href="https://github.com/rouge-ruby/rouge">rouge highlighter</a> which has the option to mark individual lines to point out individual code parts.</p> <p>That however is not implemented in jekyll itself, so while the underlying engine has the option jekyll doesnt tie into it. It took me a while and a few unsucessful workaround-attempts and digging in github comments to finally find out that the necessary parsing has finally been added and will be published with the 4.4.0 release of jekyll as noted in <a href="https://jekyllrb.com/docs/liquid/tags/#marking-specific-lines">this section of the jekyll docs</a>.</p> <p>However this will not allow to use this feature in markdown code blocks, only using the liquid markup. So the full feature will look something like this:</p> <p>{% highlight python linenos mark_lines=”3 4 5” %} <br/> code goes here <br/> {% endhighlight %}</p> <p>And - as soon as I have migrated to jekyll 4.4.0, the code below should show some highlighted lines:</p> <figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="c1">#!/usr/bin/env python                       &lt;-- should be marked
# syntax highlighting
</span>
<span class="k">class</span> <span class="nc">Bar</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>  <span class="c1"># Class definition      # &lt;-- should be marked
</span>    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>  <span class="c1"># function definition
</span>        <span class="k">if</span> <span class="sh">'</span><span class="s">string</span><span class="sh">'</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
</pre></td></tr></tbody></table></code></pre></figure>]]></content><author><name></name></author><category term="jekyll"/><category term="ruby"/><category term="liquid"/><summary type="html"><![CDATA[Highlight code in jekyll and mark individual lines]]></summary></entry></feed>